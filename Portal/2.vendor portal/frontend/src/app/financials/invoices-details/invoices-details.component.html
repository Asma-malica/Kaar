<div *ngIf="loading">Loading invoices...</div>
<div *ngIf="error" class="error">{{ error }}</div>

<table *ngIf="!loading && invoices.length > 0" class="invoice-table">
  <thead>
    <tr>
      <th>Invoice No</th>
      <th>Invoice Date</th>
      <th>Total Amount</th>
      <th>Currency</th>
      <th>PO No</th>
      <th>PO Item</th>
      <th>Material No</th>
      <th>Description</th>
      <th>Quantity</th>
      <th>Unit Price</th>
      <th>Unit</th>
      <th>Download</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let invoice of invoices">
      <td>{{ invoice.InvoiceNo }}</td>
      <td>{{ formatDate(invoice.InvoiceDate) }}</td>
      <td>{{ invoice.TotalAmount }}</td>
      <td>{{ invoice.Currency }}</td>
      <td>{{ invoice.PoNo }}</td>
      <td>{{ invoice.PoItem }}</td>
      <td>{{ invoice.MaterialNo }}</td>
      <td>{{ invoice.Description }}</td>
      <td>{{ invoice.Quantity }}</td>
      <td>{{ invoice.UnitPrice }}</td>
      <td>{{ invoice.Unit }}</td>
      <td>
        <button (click)="downloadInvoice(invoice.InvoiceNo)">Download</button>
      </td>
    </tr>
  </tbody>
</table>

<div *ngIf="!loading && invoices.length === 0">
  No invoices found.
</div>
